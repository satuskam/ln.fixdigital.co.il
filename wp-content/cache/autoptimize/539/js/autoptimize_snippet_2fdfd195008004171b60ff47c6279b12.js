/*! pojo-accessibility - v1.1.6 - 26-10-2017 */
!function(){var a=navigator.userAgent.toLowerCase().indexOf("webkit")>-1,b=navigator.userAgent.toLowerCase().indexOf("opera")>-1,c=navigator.userAgent.toLowerCase().indexOf("msie")>-1;(a||b||c)&&document.getElementById&&window.addEventListener&&window.addEventListener("hashchange",function(){var a,b=location.hash.substring(1);/^[A-z0-9_-]+$/.test(b)&&(a=document.getElementById(b),a&&(/^(?:a|select|input|button|textarea)$/i.test(a.tagName)||(a.tabIndex=-1),a.focus()))},!1)}(),function(a,b,c,d){"use strict";var e={cache:{$document:a(c),$window:a(b)},cacheElements:function(){this.cache.$toolbar=a("#pojo-a11y-toolbar"),this.cache.$toolbarLinks=this.cache.$toolbar.find("a.pojo-a11y-toolbar-link"),this.cache.$toolbarToolsLinks=this.cache.$toolbar.find(".pojo-a11y-tools a.pojo-a11y-toolbar-link"),this.cache.$btnToolbarToggle=this.cache.$toolbar.find("div.pojo-a11y-toolbar-toggle > a"),this.cache.$skipToContent=a("#pojo-a11y-skip-content"),this.cache.$body=a("body")},settings:{minFontSize:120,maxFontSize:200,buttonsClassPrefix:"pojo-a11y-btn-",bodyClassPrefix:"pojo-a11y-",bodyFontClassPrefix:"pojo-a11y-resize-font-",storageKey:"pojo-a11y",expires:PojoA11yOptions.save_expiration?36e5*PojoA11yOptions.save_expiration:432e5},variables:{currentFontSize:120,currentSchema:null},activeActions:{},buildElements:function(){this.cache.$body.prepend(this.cache.$toolbar),this.cache.$body.prepend(this.cache.$skipToContent)},bindEvents:function(){var b=this;b.cache.$btnToolbarToggle.on("click",function(a){a.preventDefault(),b.cache.$toolbar.toggleClass("pojo-a11y-toolbar-open"),b.cache.$toolbar.hasClass("pojo-a11y-toolbar-open")?b.cache.$toolbarLinks.attr("tabindex","0"):b.cache.$toolbarLinks.attr("tabindex","-1")}),a(c).on("keyup",function(a){var c=9;c===a.which&&b.cache.$btnToolbarToggle.is(":focus")&&(b.cache.$toolbar.addClass("pojo-a11y-toolbar-open"),b.cache.$toolbarLinks.attr("tabindex","0"))}),b.bindToolbarButtons()},bindToolbarButtons:function(){var b=this;b.cache.$toolbarToolsLinks.on("click",function(c){c.preventDefault();var d=a(this),e=d.data("action"),f=d.data("action-group"),g=!1;return"reset"===e?void b.reset():(-1!==["toggle","schema"].indexOf(f)&&(g=d.hasClass("active")),void b.activateButton(e,g))})},activateButton:function(a,b){var c=this.getButtonByAction(a),d=c.data("action-group");this.activeActions[a]=!b,this.actions[d].call(this,a,b),this.saveToLocalStorage()},getActiveButtons:function(){return this.cache.$toolbarToolsLinks.filter(".active")},getButtonByAction:function(a){return this.cache.$toolbarToolsLinks.filter("."+this.settings.buttonsClassPrefix+a)},actions:{toggle:function(a,b){var c=this.getButtonByAction(a),d=b?"removeClass":"addClass";b?c.removeClass("active"):c.addClass("active"),this.cache.$body[d](this.settings.bodyClassPrefix+a)},resize:function(a,b){var c=this.variables.currentFontSize;"resize-plus"===a&&this.settings.maxFontSize>c&&(this.variables.currentFontSize+=10),"resize-minus"===a&&this.settings.minFontSize<c&&(this.variables.currentFontSize-=10),b&&(this.variables.currentFontSize=this.settings.minFontSize),this.cache.$body.removeClass(this.settings.bodyFontClassPrefix+c);var d=120<this.variables.currentFontSize,e=d?"addClass":"removeClass";this.getButtonByAction("resize-plus")[e]("active"),d&&this.cache.$body.addClass(this.settings.bodyFontClassPrefix+this.variables.currentFontSize),this.activeActions["resize-minus"]=!1,this.activeActions["resize-plus"]=d,this.cache.$window.trigger("resize")},schema:function(a,b){var c=this.variables.currentSchema;return c&&(this.cache.$body.removeClass(this.settings.bodyClassPrefix+c),this.getButtonByAction(c).removeClass("active"),this.activeActions[c]=!1,this.saveToLocalStorage()),b?void(this.variables.currentSchema=null):(c=this.variables.currentSchema=a,this.cache.$body.addClass(this.settings.bodyClassPrefix+c),void this.getButtonByAction(c).addClass("active"))}},reset:function(){for(var a in this.activeActions)this.activeActions.hasOwnProperty(a)&&this.activeActions[a]&&this.activateButton(a,!0);localStorage.removeItem(this.settings.storageKey)},saveToLocalStorage:function(){if("1"===PojoA11yOptions.enable_save){this.variables.expires||(this.variables.expires=(new Date).getTime()+this.settings.expires);var a={actions:this.activeActions,variables:{currentFontSize:this.variables.currentFontSize,expires:this.variables.expires}};localStorage.setItem(this.settings.storageKey,JSON.stringify(a))}},setFromLocalStorage:function(){if("1"===PojoA11yOptions.enable_save){var b=JSON.parse(localStorage.getItem(this.settings.storageKey));if(b){var c=new Date,d=b.variables.expires;if(c>d)return void localStorage.removeItem(this.settings.storageKey);var e=b.actions;b.variables.currentFontSize>120&&(b.variables.currentFontSize-=10),a.extend(this.variables,b.variables);for(var f in e)e.hasOwnProperty(f)&&e[f]&&this.activateButton(f,!1)}}},handleGlobalOptions:function(){"1"===PojoA11yOptions.focusable&&this.cache.$body.addClass("pojo-a11y-focusable"),"1"===PojoA11yOptions.remove_link_target&&a('a[target="_blank"]').attr("target",""),"1"===PojoA11yOptions.add_role_links&&a("a").attr("role","link")},init:function(){this.cacheElements(),this.buildElements(),this.bindEvents(),this.handleGlobalOptions()}};a(c).ready(function(a){e.init(),e.setFromLocalStorage()})}(jQuery,window,document);